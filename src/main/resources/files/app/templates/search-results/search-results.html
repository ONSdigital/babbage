<!--Search filters, sorting and results description, grid col two thirds, left class removes padding and crates space within the div-->

<div class="page-header slate">
    <div class="wrapper nav-panels">
        <div class="grid-wrap">
            <div class="grid-col tablet-wide">
                <div ng-show="showSearchResults" id="search-results-total" class="search-results-total">
                    <span class='results-total'>
                        {{searchResponse.numberOfResults}}
                    </span>results for
                    <span class='results-search-term'>
                        '{{searchTermOneTime}}'
                        </span>
                </div>
                <div ng-show="showSuggestedSearchResults" id="search-results-total" class="search-results-total">
                    <span class='results-total'>
                        {{searchResponse.suggestions}}
                    </span>Sorry, there were no results found for 
                    <span class='results-search-term'>
                        '{{searchTermOneTime}}'
                        </span>  
                    <div>
	                    Showing <span class='results-total'>
	                        {{searchResponse.numberOfResults}}
	                    </span> results for
	                    <span class='results-search-term'>
	                        '{{searchResponse.suggestion}}'
	                        </span> instead.
                    </div>              
                </div>          
                <div ng-show="showZeroResultsFound" id="search-results-total" class="search-results-total">
                    Sorry, there were no results found for 
                    <span class='results-search-term'>
                        '{{searchTermOneTime}}'
                    </span>
                    <p></p>
                    <p>You could try one of the following:</p>
                    <dl>
                    	<dt>Check your spelling</dt>
                    	<dt>Use broader searches</dt>
                    	<dt>Try different keywords</dt>
                    </dl>	                    
                </div>  
                <div ng-show="showFilters">              
	                <div class="grid-wrap">
	                    <div class="grid-col desktop-grid-two-thirds">
	                        <div class="search-filters">
	                            <p>Filter by:
	                                <span ng-click="toggleFilter('bulletin')" ng-class="{'lozenge--active' : isActive('bulletin')}" class="lozenge lozenge-spacer lozenge-blue">STATISTICAL BULLETIN</span>
	                                <span ng-click="toggleFilter('dataset')" ng-class="{'lozenge--active' : isActive('dataset')}" class="lozenge lozenge-spacer lozenge-red">DATASET</span>
	                                <span ng-click="toggleFilter('article')" ng-class="{'lozenge--active' : isActive('article')}" class="lozenge lozenge-grey lozenge-spacer">ARTICLE</span>
	                                <span ng-click="toggleFilter('methodology')" ng-class="{'lozenge--active' : isActive('methodology')}"class="lozenge lozenge-spacer lozenge-green">METHODOLOGY</span>
	                            </p>
	                        </div>
	                    </div>
                          <div class="grid-col desktop-grid-one-third search-sorting-grid">
                                                    <div class="search-sorting">
                                                        <div class="field field--spaced">
                                                            <form action="" class="form">
                                                            Sort by:
                                                            <select class="input input--mini sorting" name="search" id="select1" disabled="true">
                                                                    <option value="" selected>Relevance</option>
                                                                    <!-- <option value="">Release Date</option> -->
                                                            </select>
                                                            </form>
                                                            <ons-help-tooltip tip="s" style:"flaot:left" tip-class="icon--inline--large-text icon--inline"></ons-help-tooltip>

                                                        </div>
                                                    </div>
                                                </div>
	                </div>
	        	</div>
            </div>
        </div>
    </div>
</div>


<!--Search Results List, grid col two thirds-->
<div class="wrapper nav-panels">
    <div class="grid-wrap">
        <div class="grid-col tablet-wide-grid-two-thirds">
            <article class="box">

                <div id="<search></search>" class="search">
                    <ons-loading condition="isLoading()" ></ons-loading>
                    <!-- <span ng-show="isLoading()">Loading ...</span> -->

                    <dl>

                        <dt ng-repeat-start="item in searchResponse.results track by $index" ng-class="isFocus(item.type, $index) ? 'search-home-focused' : ''">
                            <a class="search-link" href="#!{{item.url}}"><span ng-bind-html="item.title"></span></a>
                            <span ng-if="item.type != 'home'" class="lozenge--label" href="">{{item.type === 'bulletin' ? 'Statistical Bulletin' : item.type}}</span>
                        </dt>
                        <dd class="microcopy">
                        	<span ng-if="item.type === 'home'">
								<span ng-bind-html="item.url"></span>                      	
                        	</span>
                        	<span ng-if="item.type != 'home'">Release date 1 Jan 3000</span>
                        </dd>
                        <dd ng-repeat-end class="search-summary" ng-class="isFocus(item.type, $index) ? 'search-home-focused--summary' : ''" >{{item.lede | charLimit:300:'...'}}</dd>

                    </dl>
                </div>

                <ons-paginator page-count="pageCount" max-visible="paginatorLinks"></ons-paginator>

            </article>
        </div>
        <!-- /end of results list grid-col -->

        <!--Start of aside, grid col one third-->
        <div class="grid-col desktop-grid-one-third tablet-grid-one-third search-aside" ng-show="relatedDepartment">
            <aside class="box sectioned padded border-defined">

                <a href="{{relatedDepartment.departmentLink}}">
                    <img src="{{relatedDepartment.departmentLogo}}" alt="departmentlogo" class="aside-logo" />
                </a>
                <p class="paragraph-flush">
                    <a href="{{relatedDepartment.departmentLink}}" class="aside-highlighted"> Also try {{relatedDepartment.departmentName}} for more information relating to {{searchTerm}} </a>
                </p>

                <!-- /grid-col -->

                <!-- /aside -->
            </aside>
            <!-- /box -->
        </div>


    </div>
    <!--End of right col aside, grid col one third-->
</div>
